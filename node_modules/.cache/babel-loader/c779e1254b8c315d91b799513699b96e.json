{"remainingRequest":"/Users/haosong/Downloads/simple-vue-router-master/node_modules/babel-loader/lib/index.js!/Users/haosong/Downloads/simple-vue-router-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/haosong/Downloads/simple-vue-router-master/src/myrouter/index.js","dependencies":[{"path":"/Users/haosong/Downloads/simple-vue-router-master/src/myrouter/index.js","mtime":1610693023000},{"path":"/Users/haosong/Downloads/simple-vue-router-master/node_modules/cache-loader/dist/cjs.js","mtime":1720335170466},{"path":"/Users/haosong/Downloads/simple-vue-router-master/node_modules/babel-loader/lib/index.js","mtime":1720335170749},{"path":"/Users/haosong/Downloads/simple-vue-router-master/node_modules/eslint-loader/index.js","mtime":1720335168840}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9oYW9zb25nL0Rvd25sb2Fkcy9zaW1wbGUtdnVlLXJvdXRlci1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvaGFvc29uZy9Eb3dubG9hZHMvc2ltcGxlLXZ1ZS1yb3V0ZXItbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBpbnN0YWxsIGZyb20gIi4vaW5zdGFsbCI7CmltcG9ydCBjcmVhdGVNYXRjaGVyIGZyb20gIi4vY3JlYXRlLW1hdGNoZXIiOwppbXBvcnQgSGFzaEhpc3RvcnkgZnJvbSAiLi9oaXN0b3J5L2hhc2giOwoKdmFyIFZ1ZVJvdXRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gVnVlUm91dGVyKG9wdGlvbnMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWdWVSb3V0ZXIpOwoKICAgIC8vIOagueaNruS4jeWQjOeahOi3r+W+hOi3s+i9rOS4jeWQjOe7hOS7tgogICAgLy8g5bCG55So5oi35Lyg5p2l55qEcm91ZXLphY3nva7pobnmiYHlubPljJYKICAgIC8vIG1hdGNoIOi0n+i0o+mFjee9rui3r+W+hAogICAgLy8gYWRkUm91dGVzIOWKqOaAgea3u+WKoOi3r+eUsemFjee9rgogICAgdGhpcy5tYXRjaGVyID0gY3JlYXRlTWF0Y2hlcihvcHRpb25zLnJvdXRlcyB8fCBbXSk7IC8vIOWIm+W7uui3r+eUseezu+e7nwoKICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCAiaGFzaCI7CiAgICB0aGlzLmhpc3RvcnkgPSBuZXcgSGFzaEhpc3RvcnkodGhpcyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVnVlUm91dGVyLCBbewogICAga2V5OiAiaW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChhcHApIHsKICAgICAgLy8gYXBwIOaYr+agueWunuS+iwogICAgICB2YXIgc2V0dXBIYXNoTGlzdGVyID0gZnVuY3Rpb24gc2V0dXBIYXNoTGlzdGVyKCkgewogICAgICAgIGhpc3Rvcnkuc2V0dXBMaXN0ZW5lcigpOwogICAgICB9OwoKICAgICAgdmFyIGhpc3RvcnkgPSB0aGlzLmhpc3Rvcnk7IC8vIOesrOS4gOS4quWPguaVsOaYr+W9k+WJjeimgei3s+i9rOeahOi3r+W+hCznrKzkuozkuKrlj4LmlbDmmK/ot7PovazmiJDlip/nmoTlm57osIMKCiAgICAgIGhpc3RvcnkudHJhbnNpdGlvblRvKGhpc3RvcnkuZ2V0Q3VycmVudExvY2F0aW9uKCksIHNldHVwSGFzaExpc3Rlcik7CiAgICAgIGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJyb3V0ZSIsIHJvdXRlKTsKICAgICAgICBhcHAuX3JvdXRlID0gcm91dGU7CiAgICAgIH0pOwogICAgfSAvLyDljLnphY0KCiAgfSwgewogICAga2V5OiAibWF0Y2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoKGxvY2F0aW9uKSB7CiAgICAgIHJldHVybiB0aGlzLm1hdGNoZXIubWF0Y2gobG9jYXRpb24pOwogICAgfQogIH0sIHsKICAgIGtleTogInB1c2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIHB1c2gobG9jYXRpb24pIHsKICAgICAgdmFyIHNldHVwSGFzaExpc3RlciA9IGZ1bmN0aW9uIHNldHVwSGFzaExpc3RlcigpIHsKICAgICAgICBoaXN0b3J5LnNldHVwTGlzdGVuZXIoKTsKICAgICAgfTsKCiAgICAgIHZhciBoaXN0b3J5ID0gdGhpcy5oaXN0b3J5OyAvLyDnrKzkuIDkuKrlj4LmlbDmmK/lvZPliY3opoHot7PovaznmoTot6/lvoQs56ys5LqM5Liq5Y+C5pWw5piv6Lez6L2s5oiQ5Yqf55qE5Zue6LCDCgogICAgICBoaXN0b3J5LnRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgc2V0dXBIYXNoTGlzdGVyKTsKICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgIi8jIiArIGxvY2F0aW9uOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFZ1ZVJvdXRlcjsKfSgpOwoKZXhwb3J0IHsgVnVlUm91dGVyIGFzIGRlZmF1bHQgfTsKVnVlUm91dGVyLmluc3RhbGwgPSBpbnN0YWxsOw=="},{"version":3,"sources":["/Users/haosong/Downloads/simple-vue-router-master/src/myrouter/index.js"],"names":["install","createMatcher","HashHistory","VueRouter","options","matcher","routes","mode","history","app","setupHashLister","setupListener","transitionTo","getCurrentLocation","listen","route","console","log","_route","location","match","window","href","origin"],"mappings":";;;;AAAA,OAAOA,OAAP,MAAoB,WAApB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,WAAP,MAAwB,gBAAxB;;IAEqBC,S;AACnB,qBAAYC,OAAZ,EAAqB;AAAA;;AACnB;AACA;AACA;AACA;AACA,SAAKC,OAAL,GAAeJ,aAAa,CAACG,OAAO,CAACE,MAAR,IAAkB,EAAnB,CAA5B,CALmB,CAOnB;;AAEA,SAAKC,IAAL,GAAYH,OAAO,CAACG,IAAR,IAAgB,MAA5B;AAEA,SAAKC,OAAL,GAAe,IAAIN,WAAJ,CAAgB,IAAhB,CAAf;AACD;;;;yBACIO,G,EAAK;AACR;AACA,UAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BF,QAAAA,OAAO,CAACG,aAAR;AACD,OAFD;;AAGA,UAAMH,OAAO,GAAG,KAAKA,OAArB,CALQ,CAMR;;AACAA,MAAAA,OAAO,CAACI,YAAR,CAAqBJ,OAAO,CAACK,kBAAR,EAArB,EAAmDH,eAAnD;AAEAF,MAAAA,OAAO,CAACM,MAAR,CAAe,UAACC,KAAD,EAAW;AACxBC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAN,QAAAA,GAAG,CAACS,MAAJ,GAAaH,KAAb;AACD,OAHD;AAID,K,CACD;;;;0BACMI,Q,EAAU;AACd,aAAO,KAAKd,OAAL,CAAae,KAAb,CAAmBD,QAAnB,CAAP;AACD;;;yBACIA,Q,EAAU;AACb,UAAMT,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BF,QAAAA,OAAO,CAACG,aAAR;AACD,OAFD;;AAGA,UAAMH,OAAO,GAAG,KAAKA,OAArB,CAJa,CAKb;;AACAA,MAAAA,OAAO,CAACI,YAAR,CAAqBO,QAArB,EAA+BT,eAA/B;AACAW,MAAAA,MAAM,CAACF,QAAP,CAAgBG,IAAhB,GAAuBD,MAAM,CAACF,QAAP,CAAgBI,MAAhB,GAAyB,IAAzB,GAAgCJ,QAAvD;AACD;;;;;;SAxCkBhB,S;AA0CrBA,SAAS,CAACH,OAAV,GAAoBA,OAApB","sourcesContent":["import install from \"./install\";\nimport createMatcher from \"./create-matcher\";\nimport HashHistory from \"./history/hash\";\n\nexport default class VueRouter {\n  constructor(options) {\n    // 根据不同的路径跳转不同组件\n    // 将用户传来的rouer配置项扁平化\n    // match 负责配置路径\n    // addRoutes 动态添加路由配置\n    this.matcher = createMatcher(options.routes || []);\n\n    // 创建路由系统\n\n    this.mode = options.mode || \"hash\";\n\n    this.history = new HashHistory(this);\n  }\n  init(app) {\n    // app 是根实例\n    const setupHashLister = () => {\n      history.setupListener();\n    };\n    const history = this.history;\n    // 第一个参数是当前要跳转的路径,第二个参数是跳转成功的回调\n    history.transitionTo(history.getCurrentLocation(), setupHashLister);\n\n    history.listen((route) => {\n      console.log(\"route\", route);\n      app._route = route;\n    });\n  }\n  // 匹配\n  match(location) {\n    return this.matcher.match(location);\n  }\n  push(location) {\n    const setupHashLister = () => {\n      history.setupListener();\n    };\n    const history = this.history;\n    // 第一个参数是当前要跳转的路径,第二个参数是跳转成功的回调\n    history.transitionTo(location, setupHashLister);\n    window.location.href = window.location.origin + \"/#\" + location;\n  }\n}\nVueRouter.install = install;\n"]}]}