{"remainingRequest":"/Users/haosong/Media/数据/Media/00-知识星球/04-内部资源&&项目/前端/03、手写简易版VueRouter项目/1、文章2的项目，推荐使用这个，我做的也是这个/simple-vue-router-master/node_modules/babel-loader/lib/index.js!/Users/haosong/Media/数据/Media/00-知识星球/04-内部资源&&项目/前端/03、手写简易版VueRouter项目/1、文章2的项目，推荐使用这个，我做的也是这个/simple-vue-router-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/haosong/Media/数据/Media/00-知识星球/04-内部资源&&项目/前端/03、手写简易版VueRouter项目/1、文章2的项目，推荐使用这个，我做的也是这个/simple-vue-router-master/src/myrouter/history/base.js","dependencies":[{"path":"/Users/haosong/Media/数据/Media/00-知识星球/04-内部资源&&项目/前端/03、手写简易版VueRouter项目/1、文章2的项目，推荐使用这个，我做的也是这个/simple-vue-router-master/src/myrouter/history/base.js","mtime":1610693023000},{"path":"/Users/haosong/Media/数据/Media/00-知识星球/04-内部资源&&项目/前端/03、手写简易版VueRouter项目/1、文章2的项目，推荐使用这个，我做的也是这个/simple-vue-router-master/node_modules/cache-loader/dist/cjs.js","mtime":1720335170466},{"path":"/Users/haosong/Media/数据/Media/00-知识星球/04-内部资源&&项目/前端/03、手写简易版VueRouter项目/1、文章2的项目，推荐使用这个，我做的也是这个/simple-vue-router-master/node_modules/babel-loader/lib/index.js","mtime":1720335170749},{"path":"/Users/haosong/Media/数据/Media/00-知识星球/04-内部资源&&项目/前端/03、手写简易版VueRouter项目/1、文章2的项目，推荐使用这个，我做的也是这个/simple-vue-router-master/node_modules/eslint-loader/index.js","mtime":1720335168840}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9oYW9zb25nL01lZGlhL1x1NjU3MFx1NjM2RS9NZWRpYS8wMC1cdTc3RTVcdThCQzZcdTY2MUZcdTc0MDMvMDQtXHU1MTg1XHU5MEU4XHU4RDQ0XHU2RTkwJiZcdTk4NzlcdTc2RUUvXHU1MjREXHU3QUVGLzAzXHUzMDAxXHU2MjRCXHU1MTk5XHU3QjgwXHU2NjEzXHU3MjQ4VnVlUm91dGVyXHU5ODc5XHU3NkVFLzFcdTMwMDFcdTY1ODdcdTdBRTAyXHU3Njg0XHU5ODc5XHU3NkVFXHVGRjBDXHU2M0E4XHU4MzUwXHU0RjdGXHU3NTI4XHU4RkQ5XHU0RTJBXHVGRjBDXHU2MjExXHU1MDVBXHU3Njg0XHU0RTVGXHU2NjJGXHU4RkQ5XHU0RTJBL3NpbXBsZS12dWUtcm91dGVyLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9oYW9zb25nL01lZGlhL1x1NjU3MFx1NjM2RS9NZWRpYS8wMC1cdTc3RTVcdThCQzZcdTY2MUZcdTc0MDMvMDQtXHU1MTg1XHU5MEU4XHU4RDQ0XHU2RTkwJiZcdTk4NzlcdTc2RUUvXHU1MjREXHU3QUVGLzAzXHUzMDAxXHU2MjRCXHU1MTk5XHU3QjgwXHU2NjEzXHU3MjQ4VnVlUm91dGVyXHU5ODc5XHU3NkVFLzFcdTMwMDFcdTY1ODdcdTdBRTAyXHU3Njg0XHU5ODc5XHU3NkVFXHVGRjBDXHU2M0E4XHU4MzUwXHU0RjdGXHU3NTI4XHU4RkQ5XHU0RTJBXHVGRjBDXHU2MjExXHU1MDVBXHU3Njg0XHU0RTVGXHU2NjJGXHU4RkQ5XHU0RTJBL3NpbXBsZS12dWUtcm91dGVyLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvaGFvc29uZy9NZWRpYS9cdTY1NzBcdTYzNkUvTWVkaWEvMDAtXHU3N0U1XHU4QkM2XHU2NjFGXHU3NDAzLzA0LVx1NTE4NVx1OTBFOFx1OEQ0NFx1NkU5MCYmXHU5ODc5XHU3NkVFL1x1NTI0RFx1N0FFRi8wM1x1MzAwMVx1NjI0Qlx1NTE5OVx1N0I4MFx1NjYxM1x1NzI0OFZ1ZVJvdXRlclx1OTg3OVx1NzZFRS8xXHUzMDAxXHU2NTg3XHU3QUUwMlx1NzY4NFx1OTg3OVx1NzZFRVx1RkYwQ1x1NjNBOFx1ODM1MFx1NEY3Rlx1NzUyOFx1OEZEOVx1NEUyQVx1RkYwQ1x1NjIxMVx1NTA1QVx1NzY4NFx1NEU1Rlx1NjYyRlx1OEZEOVx1NEUyQS9zaW1wbGUtdnVlLXJvdXRlci1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwpleHBvcnQgZnVuY3Rpb24gY3JlYXRlUm91dGUocmVjb3JkLCBsb2FjdGlvbikgewogIHZhciByZXMgPSBbXTsKCiAgaWYgKHJlY29yZCkgewogICAgd2hpbGUgKHJlY29yZCkgewogICAgICByZXMudW5zaGlmdChyZWNvcmQpOwogICAgICByZWNvcmQgPSByZWNvcmQucGFyZW50OwogICAgfQogIH0KCiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbG9hY3Rpb24pLCB7fSwgewogICAgbWF0Y2hlZDogcmVzCiAgfSk7Cn0KCnZhciBIaXN0b3J5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBIaXN0b3J5KHJvdXRlcikgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhpc3RvcnkpOwoKICAgIHRoaXMucm91dGVyID0gcm91dGVyOwogICAgdGhpcy5jdXJyZW50ID0gY3JlYXRlUm91dGUobnVsbCwgewogICAgICBwYXRoOiAiLyIKICAgIH0pOwogIH0gLy8gICBsb2NhdGlvbiDot7PovaznmoTnm67nmoTlnLAKICAvLyBvbkNvbXBsZXRlIOi3s+i9rOaIkOWKn+eahOWbnuiwgwoKCiAgX2NyZWF0ZUNsYXNzKEhpc3RvcnksIFt7CiAgICBrZXk6ICJ0cmFuc2l0aW9uVG8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgb25Db21wbGV0ZSkgewogICAgICB2YXIgcm91dGUgPSB0aGlzLnJvdXRlci5tYXRjaChsb2NhdGlvbik7IC8vIOeUqOW9k+WJjei3r+W+hOaJvuWIsOWvueW6lOeahOiusOW9lQoKICAgICAgaWYgKHRoaXMuY3VycmVudC5wYXRoID09PSBsb2NhdGlvbiAmJiByb3V0ZS5tYXRjaGVkLmxlbmd0aCA9PT0gdGhpcy5jdXJyZW50Lm1hdGNoZWQubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZVJvdXRlKHJvdXRlKTsKICAgICAgb25Db21wbGV0ZSAmJiBvbkNvbXBsZXRlKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlUm91dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVJvdXRlKHJvdXRlKSB7CiAgICAgIHRoaXMuY3VycmVudCA9IHJvdXRlOwogICAgICB0aGlzLmNiICYmIHRoaXMuY2Iocm91dGUpOwogICAgfQogIH0sIHsKICAgIGtleTogImxpc3RlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuKGNiKSB7CiAgICAgIHRoaXMuY2IgPSBjYjsKICAgIH0KICB9XSk7CgogIHJldHVybiBIaXN0b3J5Owp9KCk7CgpleHBvcnQgeyBIaXN0b3J5IGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/Users/haosong/Media/数据/Media/00-知识星球/04-内部资源&&项目/前端/03、手写简易版VueRouter项目/1、文章2的项目，推荐使用这个，我做的也是这个/simple-vue-router-master/src/myrouter/history/base.js"],"names":["createRoute","record","loaction","res","unshift","parent","matched","History","router","current","path","location","onComplete","route","match","length","updateRoute","cb"],"mappings":";;;;;AAAA,OAAO,SAASA,WAAT,CAAqBC,MAArB,EAA6BC,QAA7B,EAAuC;AAC5C,MAAIC,GAAG,GAAG,EAAV;;AAEA,MAAIF,MAAJ,EAAY;AACV,WAAOA,MAAP,EAAe;AACbE,MAAAA,GAAG,CAACC,OAAJ,CAAYH,MAAZ;AACAA,MAAAA,MAAM,GAAGA,MAAM,CAACI,MAAhB;AACD;AACF;;AACD,yCACKH,QADL;AAEEI,IAAAA,OAAO,EAAEH;AAFX;AAID;;IAEoBI,O;AACnB,mBAAYC,MAAZ,EAAoB;AAAA;;AAClB,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAKC,OAAL,GAAeT,WAAW,CAAC,IAAD,EAAO;AAC/BU,MAAAA,IAAI,EAAE;AADyB,KAAP,CAA1B;AAGD,G,CAED;AACA;;;;;iCACaC,Q,EAAUC,U,EAAY;AACjC,UAAIC,KAAK,GAAG,KAAKL,MAAL,CAAYM,KAAZ,CAAkBH,QAAlB,CAAZ,CADiC,CACQ;;AAEzC,UACE,KAAKF,OAAL,CAAaC,IAAb,KAAsBC,QAAtB,IACAE,KAAK,CAACP,OAAN,CAAcS,MAAd,KAAyB,KAAKN,OAAL,CAAaH,OAAb,CAAqBS,MAFhD,EAGE;AACA;AACD;;AACD,WAAKC,WAAL,CAAiBH,KAAjB;AACAD,MAAAA,UAAU,IAAIA,UAAU,EAAxB;AACD;;;gCACWC,K,EAAO;AACjB,WAAKJ,OAAL,GAAeI,KAAf;AACA,WAAKI,EAAL,IAAW,KAAKA,EAAL,CAAQJ,KAAR,CAAX;AACD;;;2BACMI,E,EAAI;AACT,WAAKA,EAAL,GAAUA,EAAV;AACD;;;;;;SA5BkBV,O","sourcesContent":["export function createRoute(record, loaction) {\n  let res = [];\n\n  if (record) {\n    while (record) {\n      res.unshift(record);\n      record = record.parent;\n    }\n  }\n  return {\n    ...loaction,\n    matched: res,\n  };\n}\n\nexport default class History {\n  constructor(router) {\n    this.router = router;\n    this.current = createRoute(null, {\n      path: \"/\",\n    });\n  }\n\n  //   location 跳转的目的地\n  // onComplete 跳转成功的回调\n  transitionTo(location, onComplete) {\n    let route = this.router.match(location); // 用当前路径找到对应的记录\n\n    if (\n      this.current.path === location &&\n      route.matched.length === this.current.matched.length\n    ) {\n      return;\n    }\n    this.updateRoute(route);\n    onComplete && onComplete();\n  }\n  updateRoute(route) {\n    this.current = route;\n    this.cb && this.cb(route);\n  }\n  listen(cb) {\n    this.cb = cb;\n  }\n}\n"]}]}