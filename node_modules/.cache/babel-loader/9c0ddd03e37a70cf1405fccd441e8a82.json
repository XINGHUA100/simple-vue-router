{"remainingRequest":"/Users/haosong/Downloads/simple-vue-router-master/node_modules/babel-loader/lib/index.js!/Users/haosong/Downloads/simple-vue-router-master/node_modules/eslint-loader/index.js??ref--13-0!/Users/haosong/Downloads/simple-vue-router-master/src/myrouter/history/hash.js","dependencies":[{"path":"/Users/haosong/Downloads/simple-vue-router-master/src/myrouter/history/hash.js","mtime":1610693023000},{"path":"/Users/haosong/Downloads/simple-vue-router-master/node_modules/cache-loader/dist/cjs.js","mtime":1720335170466},{"path":"/Users/haosong/Downloads/simple-vue-router-master/node_modules/babel-loader/lib/index.js","mtime":1720335170749},{"path":"/Users/haosong/Downloads/simple-vue-router-master/node_modules/eslint-loader/index.js","mtime":1720335168840}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9oYW9zb25nL0Rvd25sb2Fkcy9zaW1wbGUtdnVlLXJvdXRlci1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvaGFvc29uZy9Eb3dubG9hZHMvc2ltcGxlLXZ1ZS1yb3V0ZXItbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2hhb3NvbmcvRG93bmxvYWRzL3NpbXBsZS12dWUtcm91dGVyLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9oYW9zb25nL0Rvd25sb2Fkcy9zaW1wbGUtdnVlLXJvdXRlci1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IEhpc3RvcnkgZnJvbSAiLi9iYXNlIjsKCmZ1bmN0aW9uIGdldEhhc2goKSB7CiAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpOwp9CgpmdW5jdGlvbiBlbnN1cmVTbGFzaCgpIHsKICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHsKICAgIHJldHVybjsKICB9CgogIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gIi8iOwp9Cgp2YXIgSGFzaEhpc3RvcnkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IaXN0b3J5KSB7CiAgX2luaGVyaXRzKEhhc2hIaXN0b3J5LCBfSGlzdG9yeSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSGFzaEhpc3RvcnkpOwoKICBmdW5jdGlvbiBIYXNoSGlzdG9yeShyb3V0ZXIpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGFzaEhpc3RvcnkpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcm91dGVyKTsgLy8g56Gu5L+d5pyJLwoKICAgIGVuc3VyZVNsYXNoKCk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSGFzaEhpc3RvcnksIFt7CiAgICBrZXk6ICJnZXRDdXJyZW50TG9jYXRpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHsKICAgICAgcmV0dXJuIGdldEhhc2goKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXR1cExpc3RlbmVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cExpc3RlbmVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIiwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi50cmFuc2l0aW9uVG8oZ2V0SGFzaCgpKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSGFzaEhpc3Rvcnk7Cn0oSGlzdG9yeSk7CgpleHBvcnQgeyBIYXNoSGlzdG9yeSBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/Users/haosong/Downloads/simple-vue-router-master/src/myrouter/history/hash.js"],"names":["History","getHash","window","location","hash","slice","ensureSlash","HashHistory","router","addEventListener","transitionTo"],"mappings":";;;;;AAAA,OAAOA,OAAP,MAAoB,QAApB;;AAEA,SAASC,OAAT,GAAmB;AACjB,SAAOC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,CAA3B,CAAP;AACD;;AAED,SAASC,WAAT,GAAuB;AACrB,MAAIJ,MAAM,CAACC,QAAP,CAAgBC,IAApB,EAA0B;AACxB;AACD;;AACDF,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACD;;IAEoBG,W;;;;;AACnB,uBAAYC,MAAZ,EAAoB;AAAA;;AAAA;;AAClB,8BAAMA,MAAN,EADkB,CAElB;;AACAF,IAAAA,WAAW;AAHO;AAInB;;;;yCACoB;AACnB,aAAOL,OAAO,EAAd;AACD;;;oCAEe;AAAA;;AACdC,MAAAA,MAAM,CAACO,gBAAP,CAAwB,YAAxB,EAAsC,YAAM;AAC1C,QAAA,MAAI,CAACC,YAAL,CAAkBT,OAAO,EAAzB;AACD,OAFD;AAGD;;;;EAdsCD,O;;SAApBO,W","sourcesContent":["import History from \"./base\";\n\nfunction getHash() {\n  return window.location.hash.slice(1);\n}\n\nfunction ensureSlash() {\n  if (window.location.hash) {\n    return;\n  }\n  window.location.hash = \"/\";\n}\n\nexport default class HashHistory extends History {\n  constructor(router) {\n    super(router);\n    // 确保有/\n    ensureSlash();\n  }\n  getCurrentLocation() {\n    return getHash();\n  }\n\n  setupListener() {\n    window.addEventListener(\"hashchange\", () => {\n      this.transitionTo(getHash());\n    });\n  }\n}\n"]}]}